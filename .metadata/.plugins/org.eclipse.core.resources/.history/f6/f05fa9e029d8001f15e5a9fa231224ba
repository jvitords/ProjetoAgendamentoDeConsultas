package application;

import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import entities.Agenda;
import entities.Consulta;
import entities.Paciente;
import entities.Status;
import entities.TipoDoCliente;
import service.ServicoDePagamento;
import service.ServicoDePagamentoComConvenio;
import service.ServicoDePagamentoSemConvenio;

public class Program {

	public static void main(String[] args) {
		
		Scanner digitar = new Scanner(System.in);
		List<Consulta> listDeConsultas = new ArrayList<Consulta>();
		
		System.out.println("======== AGENDAMENTO DE CONSULTAS ========\n");
		
		Agenda agenda = new Agenda(listDeConsultas);
		
		
		
		Consulta consulta = new Consulta(new Paciente("João Vitor", 400381518), LocalDateTime.now(), 100.0, "Manutenção", Status.AGENDADO, TipoDoCliente.COM_CONVENIO);
		TipoDoCliente tipo = consulta.getTipoDoCliente();
		agenda.adicionarNovaConsulta(consulta);
		
		switch (tipo){
		case COM_CONVENIO: {
			ServicoDePagamento servicoDePagamento = new ServicoDePagamentoComConvenio(consulta);
			servicoDePagamento.calcularValorDaConsulta(consulta.getValor());
		}
		default:
			ServicoDePagamento servicoDePagamento = new ServicoDePagamentoSemConvenio(consulta);
			servicoDePagamento.calcularValorDaConsulta(consulta.getValor());
		}
		
		agenda.mostrarConsultasAgendadas();
		
		
		
	}
}
